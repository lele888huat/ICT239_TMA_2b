{% macro render_field(field, placeholder='', id='', class_='form-control') %}
  {% set error_msg = field.errors[0] if field.errors else '' %}
  {% set has_error = field.errors|length > 0 %}
  {% set final_class = class_ + (' is-invalid' if has_error else '') %}

  <div class="position-relative">
    {{ field(class_=final_class, placeholder=(error_msg if has_error else placeholder), id=id or field.name)|safe }}
  </div>
{% endmacro %}
